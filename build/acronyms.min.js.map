{"version":3,"file":"acronyms.min.js","sources":["../src/acronyms.ts"],"sourcesContent":["/*  Acronym package for nxtx\n    requires:\n    - basic-formatting (newpage)\n    Author: Malte Rosenbjerg\n    License: MIT */\n\nimport { Package, INxtx } from '../nxtx-interface';\ndeclare const nxtx: INxtx;\n\nlet acronyms = {};\nlet usedAcronyms = [];\n\nconst pkg : Package = {\n    name: 'acronyms',\n    requires: [ 'basic-formatting' ],\n    commands: {\n        'ac:define': (acronym, full) => (acronyms[acronym.value] = full.value) && undefined,\n        'ac': acronym => {\n            const full = acronyms[acronym.value];\n            if (!full) {\n                console.warn(`Acronym '${acronym.value}' not defined`);\n                return nxtx.html('b', { class: \"warning\" }, `${acronym.value}!`);\n            }\n            if (usedAcronyms.includes(acronym.value)){\n                return nxtx.text(acronym.value);\n            }\n            usedAcronyms.push(acronym.value);\n            return nxtx.text(`${full} (${acronym.value})`);\n        }\n    },\n    hooks: {\n        prerender: () => {\n            acronyms = {};\n            usedAcronyms = [];\n        }\n    }\n};\n\nif (nxtx) nxtx.registerPackage(pkg);\n\nexport default pkg;\n\n"],"names":["acronyms","usedAcronyms","pkg","name","requires","commands","ac:define","acronym","full","value","undefined","ac","includes","nxtx","text","push","console","warn","html","class","hooks","prerender","registerPackage"],"mappings":"qCASA,IAAIA,EAAW,GACXC,EAAe,GAEbC,EAAgB,CAClBC,KAAM,WACNC,SAAU,CAAE,oBACZC,SAAU,CACNC,YAAa,SAACC,EAASC,GAAS,OAACR,EAASO,EAAQE,OAASD,EAAKC,aAAUC,GAC1EC,GAAM,SAAAJ,GACF,IAAMC,EAAOR,EAASO,EAAQE,OAC9B,OAAKD,EAIDP,EAAaW,SAASL,EAAQE,OACvBI,KAAKC,KAAKP,EAAQE,QAE7BR,EAAac,KAAKR,EAAQE,OACnBI,KAAKC,KAAQN,OAASD,EAAQE,aAPjCO,QAAQC,KAAK,YAAYV,EAAQE,uBAC1BI,KAAKK,KAAK,IAAK,CAAEC,MAAO,WAAgBZ,EAAQE,cASnEW,MAAO,CACHC,UAAW,WACPrB,EAAW,GACXC,EAAe,aAKvBY,MAAMA,KAAKS,gBAAgBpB"}